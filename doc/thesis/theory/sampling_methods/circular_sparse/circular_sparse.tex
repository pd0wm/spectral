%!TEX program = xelatex

\documentclass[a4paper, openany, oneside]{memoir}
\input{../../../../includes/preamble.tex}
\addbibresource{../../../../includes/bibliography.bib}

\begin{document}

\section{Sampling and reconstruction}
In this previous section we discussed three multi-coset sampling methods. In \cref{sec:reconstruction-algorithm}, we saw that the sampling method determines the configuration. The configuration then yields $c_i[n]$. If these $c_i[n]$ satisfy the requirements stated in \cref{sec:reconstruction-implementation}, then the algorithm described in \cref{sec:reconstruction-algorithm} can be used to reconstruct the power spectral density of the sampled signal. We will reconsider these requirements one by one.

Every $c_i[n]=0$ for $n < 0$ and $n > N-1$. Since $c_i[n]=1$ if coset $i$ samples the $N-n$'th sample of every group of $N$ samples of the input signal, which was discussed in \cref{sec:reconstruction-algorithm}, this requirement is satisfied.

Furthermore, all $c_i[n]=1$ for a single $n=n_i$ and otherwise zero. Every coset $i$ samples a single sample of every group of $N$ samples of the input signal. Therefore, this requirement is also satisfied.

Finally, the following problem must be satisfied.

\begin{description}
    \item[Circular sparse ruler problem] The set consisting of $|n_i - n_j|$ and $N-|n_i-n_j|$ for all combinations of $i$ and $j$ make up $0,\ldots,N-1$.
\end{description}

Let $d=|n_i - n_j|$ or $d=N-|n_i-n_j|$. Equivalently, $d$ is the integer difference of the numbers of the samples taken by two samplers of every group of $N$ samples of the input signal. We now say that \textit{lag $d$ is estimated}. The circular sparse ruler problem can be reformulated as follows.

\begin{description}
    \item[Circular sparse ruler problem (alternative formulation)] Lags $0,\ldots,N-1$ must be estimated.
\end{description}

We have abstracted the satisfaction of the requirements necessary for reconstruction to the alternative formulation of the circular sparse ruler problem. The circular sparse ruler problem is treated in a more abstract way in \cref{sec:sampling_methods-circ}. From now on, we assume that we have solutions to the circular sparse ruler problem readibly available.

% In this section we will look at ways to map the different sampling methods on the reconstructor with as much performance as possible. The specifications that the reconstructor imposes are:

% \begin{enumerate}
% \item All lags required as described in ref \todo{ref} must be available.
% \item The sampling must be presented as a set of samplers with an equal sample frequency $N$.
% \end{enumerate} 

% The first specification can be simplified further. When we set the time of a sample as an integer, we can set the lags as the differences between the integers. because of this we can look at a more abstract problem. 

\subsection{combine circular sparse ruler to reconstructor}\label{sub:ci-circ}

The next step is to communicate the sampling configuration to the reconstructor. As described in ref \todo{ref}, is the behavior of a sampler described as a vector $\vec{c}_i$ of length $N$, with binary elements that represent whether a sample is taken or not. For circular sparse ruler, this is straight forward to implement. We have exact knowledge of which samples are taken. A circular sparse ruler soluytion $\vec{S}= \{\color{orange}1\color{black},\color{green}2\color{black},\color{cyan}4\color{black}\}$ for $N=7$ would for example look like:
\begin{itemize}
\item $\color{orange}c_1 \color{black}= \{\color{orange}1\color{black},0,0,0,0,0,0\}$
\item $\color{green}c_2 \color{black}= \{0,\color{green}1\color{black},0,0,0,0,0\}$
\item $\color{cyan}c_3 \color{black}= \{0,0,0,\color{cyan}1\color{black},0,0,0\}$
\end{itemize}


\end{document}
